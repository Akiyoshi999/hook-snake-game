(this["webpackJsonp03_hooks-snake-game"]=this["webpackJsonp03_hooks-snake-game"]||[]).push([[0],{17:function(n,e,t){},24:function(n,e,t){"use strict";t.r(e);var c=t(2),i=t.n(c),a=t(12),s=t.n(a),r=(t(17),t(11)),o=t(3),u=t(0),l=Object.freeze({init:"init",playing:"playing",suspend:"suspend",gameover:"gameover"}),b=function(n){var e=n.status,t=n.onStart,c=n.onSuspend,i=n.onRestart;return Object(u.jsxs)("div",{className:"button",children:[e===l.gameover&&Object(u.jsx)("button",{className:"btn btn-gameover",onClick:i,children:"gameover"}),e===l.init&&Object(u.jsx)("button",{className:"btn btn-init",onClick:t,children:"start"}),e===l.suspend&&Object(u.jsx)("button",{className:"btn btn-suspended",onClick:t,children:"start"}),e===l.playing&&Object(u.jsx)("button",{className:"btn btn-playing",onClick:c,children:"stop"})]})},j=function(n){var e=n.fields;return Object(u.jsx)("div",{className:"field",children:e.map((function(n){return n.map((function(n){return Object(u.jsx)("div",{className:"dots ".concat(n)})}))}))})},d=t(7),f=t(5),h=function(n){var e=n.onChange;return Object(u.jsxs)("div",{className:"manipulation-panel",children:[Object(u.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return e("left")},children:Object(u.jsx)(f.a,{icon:d.b})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return e("up")},children:Object(u.jsx)(f.a,{icon:d.d})}),Object(u.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return e("down")},children:Object(u.jsx)(f.a,{icon:d.a})})]}),Object(u.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return e("right")},children:Object(u.jsx)(f.a,{icon:d.c})})]})},m=function(n){var e=n.length,t=n.difficulty,c=void 0===t?3:t,i=n.onChangeDifficulty,a=c<5?"":"is-hidden",s=c>1?"":"is-hidden";return Object(u.jsxs)("div",{className:"navigation",children:[Object(u.jsxs)("div",{className:"navigation-item",children:[Object(u.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(u.jsx)("div",{className:"navigation-item-number-container",children:Object(u.jsx)("div",{className:"num-board",children:e})})]}),Object(u.jsxs)("div",{className:"navigation-item",children:[Object(u.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(u.jsxs)("div",{className:"navigation-item-number-container",children:[Object(u.jsx)("span",{className:"num-board",children:c}),Object(u.jsxs)("div",{className:"difficulty-button-container",children:[Object(u.jsx)("div",{className:"difficulty-button difficulty-up ".concat(a),onClick:function(){return i(c+1)}}),Object(u.jsx)("div",{className:"difficulty-button difficulty-down ".concat(s),onClick:function(){return i(c-1)}})]})]})]})]})},O=function(n,e){for(var t=function(){var t=Math.floor(Math.random()*(n-2))+1,c=Math.floor(Math.random()*(n-2))+1;if(!e.some((function(n){return n.x===t&&n.y===c})))return{v:{x:t,y:c}}};;){var c=t();if("object"===typeof c)return c.v}},v=function(n,e){for(var t=[],c=0;c<n;c++){var i=new Array(n).fill("");t.push(i)}t[e.y][e.x]="snake";var a=O(n,[e]);return t[a.x][a.y]="food",t},x={x:17,y:17},g=v(35,x),p=[1e3,700,500,300,100],y=Object.freeze({init:"init",playing:"playing",suspend:"suspend",gameover:"gameover"}),N=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),k=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),C=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),w=Object.freeze({37:N.left,38:N.up,39:N.right,40:N.down}),S=void 0,z=function(){S&&clearInterval(S)};var E=function(){var n=Object(c.useState)(g),e=Object(o.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)([]),s=Object(o.a)(a,2),l=s[0],d=s[1],f=Object(c.useState)(y.init),E=Object(o.a)(f,2),I=E[0],L=E[1],M=Object(c.useState)(0),D=Object(o.a)(M,2),F=D[0],A=D[1],B=Object(c.useState)(3),J=Object(o.a)(B,2),P=J[0],R=J[1],T=Object(c.useState)(N.up),_=Object(o.a)(T,2),G=_[0],q=_[1],H=Object(c.useCallback)((function(n){I===y.playing&&k[G]!==n&&q(n)}),[G,I]),K=Object(c.useCallback)((function(n){I===y.init&&(n<1||n>p.length||R(n))}),[I,P]),Q=function(n,e){return e.y<0||e.x<0||(e.y>n-1||e.x>n-1)},U=function(n,e){return"snake"===n[e.y][e.x]};return Object(c.useEffect)((function(){return d([x]),S=setInterval((function(){A((function(n){return n+1}))}),p[P-1]),z}),[P]),Object(c.useEffect)((function(){0!==!l.length&&I===y.playing&&(function(){var n=l[0],e=n.x,c=n.y,a={x:e+C[G].x,y:c+C[G].y};if(Q(t.length,a)||U(t,a))return z(),!1;var s=Object(r.a)(l);if("food"!==t[a.y][a.x]){var o=s.pop();t[o.y][o.x]=""}else{var u=O(t.length,[].concat(Object(r.a)(s),[a]));t[u.y][u.x]="food"}return t[a.y][a.x]="snake",s.unshift(a),d(s),i(t),!0}()||(z(),L(y.gameover)))}),[F]),Object(c.useEffect)((function(){var n=function(n){var e=w[n.keyCode];e&&H(e)};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[H]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{className:"title-container",children:Object(u.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(u.jsx)(m,{length:l.length,difficulty:P,onChangeDifficulty:K})]}),Object(u.jsx)("main",{className:"main",children:Object(u.jsx)(j,{fields:t})}),Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)(b,{status:I,onStart:function(){return L(y.playing)},onSuspend:function(){return L(y.suspend)},onRestart:function(){S=setInterval((function(){A((function(n){return n+1}))}),100),L(y.init),d([x]),q(N.up),i(v(35,x))}}),Object(u.jsx)(h,{onChange:H})]})]})},I=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,25)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;t(n),c(n),i(n),a(n),s(n)}))};s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root")),I()}},[[24,1,2]]]);
//# sourceMappingURL=main.2f44a693.chunk.js.map