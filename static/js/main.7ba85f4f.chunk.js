(this["webpackJsonp03_hooks-snake-game"]=this["webpackJsonp03_hooks-snake-game"]||[]).push([[0],{17:function(t,n,e){},24:function(t,n,e){"use strict";e.r(n);var c=e(2),i=e.n(c),a=e(12),s=e.n(a),r=(e(17),function(t,n){for(var e=function(){var e=Math.floor(Math.random()*(t-2))+1,c=Math.floor(Math.random()*(t-2))+1;if(!n.some((function(t){return t.x===e&&t.y===c})))return{v:{x:e,y:c}}};;){var c=e();if("object"===typeof c)return c.v}}),o=function(t,n){for(var e=[],c=0;c<t;c++){var i=new Array(t).fill("");e.push(i)}e[n.y][n.x]="snake";var a=r(t,[n]);return e[a.x][a.y]="food",e},u={x:17,y:17},l=o(35,u),b=[1e3,700,500,300,100],d=Object.freeze({init:"init",playing:"playing",suspend:"suspend",gameover:"gameover"}),f=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),j=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),h=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),O=Object.freeze({37:f.left,38:f.up,39:f.right,40:f.down}),m=e(0),x=function(t){var n=t.status,e=t.onStart,c=t.onSuspend,i=t.onRestart;return Object(m.jsxs)("div",{className:"button",children:[n===d.gameover&&Object(m.jsx)("button",{className:"btn btn-gameover",onClick:i,children:"gameover"}),n===d.init&&Object(m.jsx)("button",{className:"btn btn-init",onClick:e,children:"start"}),n===d.suspend&&Object(m.jsx)("button",{className:"btn btn-suspended",onClick:e,children:"start"}),n===d.playing&&Object(m.jsx)("button",{className:"btn btn-playing",onClick:c,children:"stop"})]})},v=function(t){var n=t.fields;return Object(m.jsx)("div",{className:"field",children:n.map((function(t){return t.map((function(t){return Object(m.jsx)("div",{className:"dots ".concat(t)})}))}))})},p=e(7),g=e(5),y=function(t){var n=t.onChange;return Object(m.jsxs)("div",{className:"manipulation-panel",children:[Object(m.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return n(f.left)},children:Object(m.jsx)(g.a,{icon:p.b})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return n(f.up)},children:Object(m.jsx)(g.a,{icon:p.d})}),Object(m.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return n(f.down)},children:Object(m.jsx)(g.a,{icon:p.a})})]}),Object(m.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return n(f.right)},children:Object(m.jsx)(g.a,{icon:p.c})})]})},N=function(t){var n=t.length,e=t.difficulty,c=void 0===e?3:e,i=t.onChangeDifficulty,a=c<b.length?"":"is-hidden",s=c>1?"":"is-hidden";return Object(m.jsxs)("div",{className:"navigation",children:[Object(m.jsxs)("div",{className:"navigation-item",children:[Object(m.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(m.jsx)("div",{className:"navigation-item-number-container",children:Object(m.jsx)("div",{className:"num-board",children:n})})]}),Object(m.jsxs)("div",{className:"navigation-item",children:[Object(m.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(m.jsxs)("div",{className:"navigation-item-number-container",children:[Object(m.jsx)("span",{className:"num-board",children:c}),Object(m.jsxs)("div",{className:"difficulty-button-container",children:[Object(m.jsx)("div",{className:"difficulty-button difficulty-up ".concat(a),onClick:function(){return i(c+1)}}),Object(m.jsx)("div",{className:"difficulty-button difficulty-down ".concat(s),onClick:function(){return i(c-1)}})]})]})]})]})},k=e(11),C=e(3),w=null,S=function(){w&&clearInterval(w)},D=function(){var t=Object(c.useState)(l),n=Object(C.a)(t,2),e=n[0],i=n[1],a=Object(c.useState)([]),s=Object(C.a)(a,2),m=s[0],x=s[1],v=Object(c.useState)(d.init),p=Object(C.a)(v,2),g=p[0],y=p[1],N=Object(c.useState)(0),D=Object(C.a)(N,2),E=D[0],z=D[1],I=Object(c.useState)(3),L=Object(C.a)(I,2),M=L[0],F=L[1],A=Object(c.useState)(f.up),B=Object(C.a)(A,2),J=B[0],P=B[1],R=Object(c.useCallback)((function(t){g===d.playing&&j[J]!==t&&P(t)}),[J,g]),T=Object(c.useCallback)((function(t){g===d.init&&(t<1||t>b.length||F(t))}),[g,M]);return Object(c.useEffect)((function(){return x([u]),w=setInterval((function(){z((function(t){return t+1}))}),b[M-1]),S}),[M]),Object(c.useEffect)((function(){0!==!m.length&&g===d.playing&&(function(){var t=m[0],n=t.x,c=t.y,a={x:n+h[J].x,y:c+h[J].y};if(function(t,n){return n.y<0||n.x<0||n.y>t-1||n.x>t-1}(e.length,a)||function(t,n){return"snake"===t[n.y][n.x]}(e,a))return S(),!1;var s=Object(k.a)(m);if("food"!==e[a.y][a.x]){var o=s.pop();e[o.y][o.x]=""}else{var u=r(e.length,[].concat(Object(k.a)(s),[a]));e[u.y][u.x]="food"}return e[a.y][a.x]="snake",s.unshift(a),x(s),i(e),!0}()||(S(),y(d.gameover)))}),[E]),Object(c.useEffect)((function(){var t=function(t){var n=O[t.keyCode];n&&R(n)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[R]),{body:m,difficulty:M,fields:e,status:g,start:function(){return y(d.playing)},stop:function(){return y(d.suspend)},reload:function(){w=setInterval((function(){z((function(t){return t+1}))}),100),y(d.init),x([u]),P(f.up),i(o(e.length,u))},updateDirection:R,updateDifficulty:T}};var E=function(){var t=D(),n=t.body,e=t.difficulty,c=t.fields,i=t.status,a=t.start,s=t.stop,r=t.reload,o=t.updateDirection,u=t.updateDifficulty;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)("div",{className:"title-container",children:Object(m.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(m.jsx)(N,{length:n.length,difficulty:e,onChangeDifficulty:u})]}),Object(m.jsx)("main",{className:"main",children:Object(m.jsx)(v,{fields:c})}),Object(m.jsxs)("footer",{className:"footer",children:[Object(m.jsx)(x,{status:i,onStart:a,onSuspend:s,onRestart:r}),Object(m.jsx)(y,{onChange:o})]})]})},z=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,25)).then((function(n){var e=n.getCLS,c=n.getFID,i=n.getFCP,a=n.getLCP,s=n.getTTFB;e(t),c(t),i(t),a(t),s(t)}))};s.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),z()}},[[24,1,2]]]);
//# sourceMappingURL=main.7ba85f4f.chunk.js.map